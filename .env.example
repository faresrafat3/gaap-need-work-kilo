# GAAP Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!
# =============================================================================

# =============================================================================
# Required Configuration
# =============================================================================

# Environment: development, staging, production
# - development: Debug mode enabled, verbose logging
# - staging: Pre-production testing environment
# - production: Optimized for performance and security
GAAP_ENVIRONMENT=development

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL Configuration (recommended for production)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=gaap
POSTGRES_PASSWORD=gaap
POSTGRES_DB=gaap

# Set to 'true' to use PostgreSQL instead of SQLite
USE_POSTGRES=false

# SQLite Configuration (default for development)
GAAP_DB_PATH=.gaap/gaap.db

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_PRE_PING=true
DB_POOL_RECYCLE=3600
DB_ECHO=false

# Full database URL (overrides individual settings)
# DATABASE_URL=postgresql://user:password@localhost:5432/gaap

# =============================================================================
# Redis Configuration
# =============================================================================

# Redis URL for caching and rate limiting
REDIS_URL=redis://localhost:6379/0

# Redis password (optional)
REDIS_PASSWORD=

# =============================================================================
# LLM Provider API Keys (At least one required for chat functionality)
# =============================================================================

# Groq API - Fast inference with open source models
# Get your key at: https://console.groq.com
# Models: llama-3.1-70b, mixtral-8x7b, gemma-7b
GAAP_GROQ_API_KEY=

# Google Gemini API - Google's multimodal models
# Get your key at: https://aistudio.google.com/app/apikey
# Models: gemini-pro, gemini-pro-vision
GAAP_GEMINI_API_KEY=

# Cerebras API - Fast inference optimized for LLMs
# Get your key at: https://cloud.cerebras.ai
GAAP_CEREBRAS_API_KEY=

# Mistral AI API - European AI models
# Get your key at: https://console.mistral.ai
GAAP_MISTRAL_API_KEY=

# Kilo API - Multi-provider LLM gateway
# Get your key at: https://kilo.ai
GAAP_KILO_API_KEY=

# OpenAI API - GPT models (optional)
# Get your key at: https://platform.openai.com
GAAP_OPENAI_API_KEY=

# Anthropic API - Claude models (optional)
# Get your key at: https://console.anthropic.com
GAAP_ANTHROPIC_API_KEY=

# =============================================================================
# GitHub Integration (Optional but recommended)
# =============================================================================

# GitHub Personal Access Token for repository analysis
# Create at: https://github.com/settings/tokens
# Required scopes: repo, read:org (if analyzing org repos)
GAAP_GITHUB_TOKEN=

# =============================================================================
# Security Configuration
# =============================================================================

# Secret key for capability token signing and verification
# Auto-generated if not set. Set explicitly for multi-instance deployments.
# Generate with: openssl rand -hex 32
GAAP_CAPABILITY_SECRET=

# JWT secret for API authentication (if using auth)
GAAP_JWT_SECRET=

# Encryption key for sensitive data (32 bytes hex)
GAAP_ENCRYPTION_KEY=

# =============================================================================
# System Configuration
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
GAAP_LOG_LEVEL=INFO

# Log format: text or json
# - text: Human-readable format for development
# - json: Structured logging for production (recommended with log aggregation)
GAAP_LOG_FORMAT=text

# Maximum request body size in bytes (default: 10MB)
GAAP_MAX_REQUEST_SIZE=10485760

# Request timeout in seconds (default: 60)
GAAP_REQUEST_TIMEOUT=60

# Worker processes for production (default: auto-detect CPU cores)
GAAP_WORKERS=

# =============================================================================
# API Server Configuration
# =============================================================================

# Host to bind the API server (default: 0.0.0.0)
GAAP_API_HOST=0.0.0.0

# Port for the API server (default: 8000)
GAAP_API_PORT=8000

# Enable auto-reload in development (default: false)
GAAP_RELOAD=false

# CORS origins (comma-separated)
# In production, set this to your exact frontend URL(s)
# Example: https://app.example.com,https://admin.example.com
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# Rate Limiting Configuration
# =============================================================================

# Rate limit requests per minute per IP (default: 60)
GAAP_RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# Budget Limits (Optional)
# =============================================================================

# Monthly budget limit in USD (default: 5000)
GAAP_BUDGET_MONTHLY_LIMIT=5000

# Daily budget limit in USD (default: 200)
GAAP_BUDGET_DAILY_LIMIT=200

# Per-task budget limit in USD (default: 10)
GAAP_BUDGET_PER_TASK_LIMIT=10

# Budget alert thresholds (comma-separated ratios, default: 0.5,0.8,0.95)
GAAP_BUDGET_ALERT_THRESHOLDS=0.5,0.8,0.95

# Auto-throttle at budget ratio (default: 0.9)
GAAP_BUDGET_AUTO_THROTTLE=0.9

# Hard stop at budget ratio (default: 1.0)
GAAP_BUDGET_HARD_STOP=1.0

# =============================================================================
# Feature Flags (Optional)
# =============================================================================

# Enable/disable external research capabilities (default: true)
GAAP_ENABLE_EXTERNAL_RESEARCH=true

# Enable/disable tool synthesis (default: true)
GAAP_ENABLE_TOOL_SYNTHESIS=true

# Enable/disable DLP (Data Loss Prevention) shield (default: true)
GAAP_ENABLE_DLP_SHIELD=true

# Enable/disable semantic firewall (default: true)
GAAP_ENABLE_SEMANTIC_FIREWALL=true

# Enable/disable self-healing capabilities (default: true)
GAAP_ENABLE_SELF_HEALING=true

# Enable/disable genetic twin testing (default: true)
GAAP_ENABLE_GENETIC_TWIN=true

# Enable/disable blockchain audit logging (default: false)
GAAP_ENABLE_BLOCKCHAIN_AUDIT=false

# =============================================================================
# Monitoring & Observability (Optional)
# =============================================================================

# Enable Prometheus metrics endpoint (default: true)
GAAP_METRICS_ENABLED=true

# Prometheus metrics port (default: 9090)
GAAP_METRICS_PORT=9090

# OpenTelemetry collector endpoint (optional)
# Example: http://localhost:4317
GAAP_OTEL_ENDPOINT=

# Sentry DSN for error tracking (optional)
GAAP_SENTRY_DSN=

# =============================================================================
# Model Configuration (Optional)
# =============================================================================

# Default model for routing (default: gpt-4o-mini)
GAAP_DEFAULT_MODEL=gpt-4o-mini

# Tier 1 model for critical tasks (default: claude-3-5-opus)
GAAP_TIER_1_MODEL=claude-3-5-opus

# Tier 2 model for important tasks (default: gpt-4o)
GAAP_TIER_2_MODEL=gpt-4o

# Tier 3 model for standard tasks (default: gpt-4o-mini)
GAAP_TIER_3_MODEL=gpt-4o-mini

# Tier 4 model for simple tasks (default: llama-3-70b)
GAAP_TIER_4_MODEL=llama-3-70b

# Routing strategy: quality_first, speed_first, cost_optimized (default: quality_first)
GAAP_ROUTING_STRATEGY=quality_first

# =============================================================================
# Sandbox Configuration (Optional)
# =============================================================================

# Sandbox type: gvisor, docker, process (default: gvisor)
GAAP_SANDBOX_TYPE=gvisor

# Sandbox CPU limit (0.0-1.0, default: 0.5)
GAAP_SANDBOX_CPU_LIMIT=0.5

# Sandbox memory limit (default: 512M)
GAAP_SANDBOX_MEMORY_LIMIT=512M

# Sandbox max processes (default: 100)
GAAP_SANDBOX_MAX_PROCESSES=100

# =============================================================================
# External Connectors (Optional)
# =============================================================================

# Enable web search (default: false)
GAAP_ENABLE_WEB_SEARCH=false

# Enable Perplexity API (default: false)
GAAP_ENABLE_PERPLEXITY=false

# Perplexity API key
GAAP_PERPLEXITY_API_KEY=

# Web search provider: duckduckgo, google, bing (default: duckduckgo)
GAAP_WEB_SEARCH_PROVIDER=duckduckgo

# =============================================================================
# Legacy Variables (Deprecated - use GAAP_ prefix versions above)
# =============================================================================
# The following variables are supported for backward compatibility but
# will be deprecated in a future version. Please migrate to GAAP_ prefix.

# GROQ_API_KEY=           # Use GAAP_GROQ_API_KEY instead
# GEMINI_API_KEY=         # Use GAAP_GEMINI_API_KEY instead
# CEREBRAS_API_KEY=       # Use GAAP_CEREBRAS_API_KEY instead
# MISTRAL_API_KEY=        # Use GAAP_MISTRAL_API_KEY instead
# KILO_API_KEY=           # Use GAAP_KILO_API_KEY instead
# GITHUB_TOKEN=           # Use GAAP_GITHUB_TOKEN instead
# OPENAI_API_KEY=         # Use GAAP_OPENAI_API_KEY instead
# ANTHROPIC_API_KEY=      # Use GAAP_ANTHROPIC_API_KEY instead
